<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NFA Rice Inventory â€” Accountable Officer</title>
  <link rel="stylesheet" href="css/accountable.css" />
  
</head>
<body>
  <div class="app">
    
    <!-- SIDEBAR -->
    <div id="sidebar"></div>

    <!-- Accountable Officer Modal -->
    <div id="accountableModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeAccountable">&times;</span>
        <h2>Data Entry of Accountable Officer</h2>
        <form id="accountableForm">
          <label for="officerId">Employee Number</label>
          <input type="text" id="officerId" name="officerId" required />

          <label for="firstName">First Name</label>
          <input type="text" id="firstName" name="firstName" required />

          <label for="lastName">Last Name</label>
          <input type="text" id="lastName" name="lastName" required />

          <label for="middleName">Middle Name</label>
          <input type="text" id="middleName" name="middleName" required />

          <button type="submit">Add Officer</button>
        </form>
      </div>
    </div>

    <!-- Masterfile Modal -->
    <div id="masterfileModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeMasterfile">&times;</span>
        <h2>Data Entry of Tola Masterfile</h2>
        <form id="masterfileForm">
          
          <label for="officerMaster">Accountable Officer No.</label>
          <input type="text" id="officerMaster" name="officerMaster" required />

          <label for="warehouse">Warehouse Code</label>
          <input type="text" id="warehouse" name="warehouse" required />

          <label>Period of Accountability</label>
          <input type="date" id="fromDate" name="fromDate" required /> to
          <input type="date" id="toDate" name="toDate" required />

          <label for="statusExam">Status of Examination</label>
          <select id="statusExam" name="statusExam" required>
            <option value="">Select status</option>
            <option value="Pending">Pending</option>
            <option value="Examined">Examined</option>
            <option value="For Review">For Review</option>
          </select>
           <label for="warehouse">Note</label>
          <input type="text" id="warehouse" name="warehouse" required />

          <button type="submit">Save</button>
        </form>
      </div>
    </div>

    <!-- MAIN CONTENT -->
    <main class="main">

      <section class="inventory-section">

        <!-- Section Header -->
        <div class="section-header">
          <h2>Accountable Officer</h2>
          <div class="button-group">
            <button class="add-btn" id="openModal">+ Add Accountable Officer</button>
            <button class="add-btn" id="openMasterfile">+ Add Masterfile</button>
          </div>
        </div>

        <!-- Table -->
   <table class="inventory-table">
  <thead>
    <tr>
      <th>Officer Id</th>
      <th>Last Name</th>
      <th>First Name</th>
      <th>Middle Name</th>
      <th>Warehouse Code</th>
      <th>Warehouse Name</th>
      <th>Period of Accountability</th>
      <th>Actions</th> 
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Amoyan</td>
      <td>Mark Ray</td>
      <td>Magslay</td>
      <td>112311</td>
      <td>GID 1</td>
      <td>12-12-2025 / 02-24-2026</td>
      <td class="action-cell">
        <div class="dropdown">
          <span class="dot-menu">&#8942;</span>
          <div class="dropdown-content">
            <button class="edit-btn">Edit</button>
            <button class="delete-btn">Delete</button>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <td>02</td>
      <td>Regular-Milled Rice</td>
      <td>200</td>
      <td>25 kg</td>
      <td>5000 kg</td>
      <td>1 month</td>
      <td>-</td>
      <td class="action-cell">
        <div class="dropdown">
          <span class="dot-menu">&#8942;</span>
          <div class="dropdown-content">
            <button class="edit-btn">Edit</button>
            <button class="delete-btn">Delete</button>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <td>03</td>
      <td>Brown Rice</td>
      <td>80</td>
      <td>30 kg</td>
      <td>2400 kg</td>
      <td>4 months</td>
      <td>-</td>
      <td class="action-cell">
        <div class="dropdown">
          <span class="dot-menu">&#8942;</span>
          <div class="dropdown-content">
            <button class="edit-btn">Edit</button>
            <button class="delete-btn">Delete</button>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>


      </section>

    </main>
  </div>

  <script>
    // Load sidebar
    fetch("sidebar.html")
      .then(res => res.text())
      .then(html => {
        document.getElementById("sidebar").innerHTML = html;

        document.getElementById("goHome").addEventListener("click", () => {
          window.location.href = "homepage.html";
        });
        document.getElementById("goTrans").addEventListener("click", () => {
          window.location.href = "transaction.html";
        });
        document.getElementById("goAcc").addEventListener("click", () => {
          window.location.href = "accountable.html";
        });
      });

    // ----- ACCOUNTABLE OFFICER MODAL -----
    const accountableModal = document.getElementById("accountableModal");
    const openAccountableBtn = document.getElementById("openModal");
    const closeAccountableBtn = document.getElementById("closeAccountable");

    openAccountableBtn.addEventListener("click", () => {
      accountableModal.style.display = "block";
    });

    closeAccountableBtn.addEventListener("click", () => {
      accountableModal.style.display = "none";
    });

    // ----- MASTERFILE MODAL -----
    const masterfileModal = document.getElementById("masterfileModal");
    const openMasterfileBtn = document.getElementById("openMasterfile");
    const closeMasterfileBtn = document.getElementById("closeMasterfile");

    openMasterfileBtn.addEventListener("click", () => {
      masterfileModal.style.display = "block";
    });

    closeMasterfileBtn.addEventListener("click", () => {
      masterfileModal.style.display = "none";
    });

    // Close modals when clicking outside
    window.addEventListener("click", (e) => {
      if (e.target === accountableModal) accountableModal.style.display = "none";
      if (e.target === masterfileModal) masterfileModal.style.display = "none";
    });

    // Handle Accountable Officer form submission
    document.getElementById("accountableForm").addEventListener("submit", (e) => {
      e.preventDefault();
      console.log("Accountable Officer submitted");
      accountableModal.style.display = "none";
      e.target.reset();
    });

    // Handle Masterfile form submission
    document.getElementById("masterfileForm").addEventListener("submit", (e) => {
      e.preventDefault();
      console.log("Masterfile data submitted");
      masterfileModal.style.display = "none";
      e.target.reset();
    });

    // Handle dot-menu dropdowns
document.querySelectorAll('.dot-menu').forEach(dot => {
  dot.addEventListener('click', (e) => {
    e.stopPropagation(); // prevent closing on window click
    // Close any other open dropdowns first
    document.querySelectorAll('.dropdown-content').forEach(d => {
      if (d !== dot.nextElementSibling) d.style.display = 'none';
    });
    const dropdown = dot.nextElementSibling;
    dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
  });
});

// Close dropdowns when clicking outside
window.addEventListener('click', () => {
  document.querySelectorAll('.dropdown-content').forEach(d => d.style.display = 'none');
});

// Example Edit/Delete actions
document.querySelectorAll('.edit-btn').forEach(btn => {
  btn.addEventListener('click', (e) => {
    e.stopPropagation();
    alert('Edit clicked');
  });
});

document.querySelectorAll('.delete-btn').forEach(btn => {
  btn.addEventListener('click', (e) => {
    e.stopPropagation();
    alert('Delete clicked');
  });
});
  </script>

</body>
</html>
