<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>NFA Rice Inventory â€” Variety Library</title>

<!-- CSS Files -->
<link rel="stylesheet" href="css/sidebar.css">
<link rel="stylesheet" href="css/activity.css">
<link rel="stylesheet" href="css/user-component.css">
<link rel="stylesheet" href="css/sack.css"> <!-- reused -->
</head>
<body>

<div class="app">
    <div id="sidebar"></div>
</div>

<!-- VARIETY MODAL -->
<div id="sackModal" class="modal">
  <div class="modal-content">
    <span class="close" id="closeSack">&times;</span>
    <h2>DATA ENTRY OF VARIETY LIBRARY</h2>

    <form id="sackForm">
      <div class="grid">

        <div>
          <label for="varietyCode">Variety Code:</label>
          <input type="text" id="varietyCode" name="varietyCode" placeholder="Enter Variety Code">
        </div>

        <div>
          <label for="description">Description:</label>
          <input type="text" id="description" name="description" placeholder="Enter Description">
        </div>

        <div>
          <label for="cerealType">Cereal Type:</label>
          <input type="text" id="cerealType" name="cerealType" placeholder="Enter Cereal Type">
        </div>

      </div>

      <button type="submit">Save Variety</button>
    </form>
  </div>
</div>

<!-- MAIN CONTENT -->
<main class="main">
  <section class="inventory-section">
    <div class="sticky-header">
      <div class="header-content">
        <h2>Variety Library</h2>

        <!-- User Info -->
        <div class="header-actions">
          <div class="user-info" id="userInfoDropdown">
            <div class="user-text">
              <span class="username-display">Hi, User</span>
              <span class="user-role">Admin</span>
            </div>
            <div class="user-avatar">
              <span class="user-initials">AM</span>
            </div>
            <div class="user-dropdown" id="userDropdown">
              <div class="dropdown-item" id="logoutBtn">Logout</div>
            </div>
          </div>
        </div>
      </div>

      <div class="controls-row">
        <div class="sort-container">
          <label for="sortSelect">Sort by:</label>
          <select id="sortSelect" class="sort-select">
            <option value="newest">Newest First</option>
            <option value="oldest">Oldest First</option>
          </select>
        </div>

        <div class="action-buttons">
          <button class="add-btn1" id="previewSack">Preview</button>
          <button class="add-btn2" id="addSack">+ Add Variety</button>
        </div>
      </div>
    </div>

    <div class="table-wrapper">
      <table class="activity-table">
        <thead>
          <tr>
            <th>Variety Code</th>
            <th>Description</th>
            <th>Cereal Type</th>
            <th>Actions</th>
          </tr>
        </thead>

        <tbody id="sackBody">
          <tr>
            <td colspan="4" style="text-align:center;">Loading varieties...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
</main>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

<!-- Custom Scripts -->
<script src="jscript/user-auth.js"></script>
<script src="jscript/variety.js"></script> <!-- renamed JS -->
<script src="jscript/sidebar.js"></script>

<!-- Modal Functionality -->
<script>
  const sackModal = document.getElementById('sackModal');
  const addSackBtn = document.getElementById('addSack');
  const closeSack = document.getElementById('closeSack');

  addSackBtn.onclick = () => sackModal.style.display = 'block';
  closeSack.onclick = () => sackModal.style.display = 'none';
  window.onclick = (e) => {
    if (e.target === sackModal) sackModal.style.display = 'none';
  };
</script>

</body>
</html>
